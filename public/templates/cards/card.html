<div class="modal fade" role="dialog">
  <div class="modal-dialog">

    
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h2 class="modal-title" ng-show="!editingTitle === true" ng-click="toggleTitle($event)">{{ card.title }}</h2>
        
        <div class="edit-title" ng-show="editingTitle === true">
          <h4 class="modal-title"><input type="text" ng-model="card.title" value={{card.title}}></h4>

          <button ng-click="updateTitle()" class="btn btn-primary">Save</button>
        </div>
      </div>
      <div class="modal-body">
        <p ng-click="toggleDescription($event)" ng-show="!editingDescription === true">{{ card.description }}</p>

        <div class="edit-description" ng-show="editingDescription === true">
          <textarea class="modal-description col-xs-12" ng-model="card.description" value={{card.description}}></textarea>

          <button ng-click="updateDescription()" class="btn btn-primary">Save</button>
        </div>
      </div>

      <!-- MEMBER STUFF -->
      

      <div class="modal-body">
        <div class="row">
          <div class="col-xs-12">
            <h5>Members</h5>
          </div>
        </div>
      <!-- show members -->
        <div class="row" ng-repeat="member in card.members">
          <div class="col-xs-3">
            <h7>{{ member.username }}</h7>
          </div>

          <div class="col-xs-9 col-xs-pull-right">
            <a ng-click="removeMember(member)">remove</a>  
          </div>
        </div>

        <div class="row">
          <div class="col-xs-12">
            <select ng-model="selectedUserId">
              <option ng-repeat="user in users" value={{user.id}}>{{ user.username }}</option>
            </select>

            <button ng-click="addMember()">Add</button>
          </div>
        </div>
      </div>

      <div class="modal-body">
        <div class="row">
          <div class="col-xs-12">
            <h5>Activity</h5>
          </div>
        </div>

        <!-- show activity -->
        <div class="row" ng-repeat="activity in activities | orderBy:'-created_at' | limitTo : 5">
          <div class="col-xs-12">
            <p>{{ activity.action }}</p>
          </div>

        </div>
      
      </div>


      <div class="modal-body">
        <a ng-click="markCompleted()">Mark Completed</a>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>

  </div>
</div>